# 产品需求文档 (PRD) - 爱情旅程纪念墙 (Love Journey)

## 1. 项目概述
本项目旨在为庆祝情侣在一起 1314 天纪念日而构建的一个单页面 Web 应用程序（SPA）。它是一个数字化的“纪念墙”，通过时间轴倒序展示两人的点点滴滴。核心特色在于**AI 驱动的智能画布**：用户只需上传素材，AI 将自动设计并生成一段精美的 HTML 代码，在固定宽高的卡片中完美呈现这些回忆。

## 2. 核心用户
*   **主要浏览者**：情侣双方（也可能是被分享的亲友）。
*   **内容创作者**：情侣双方（拥有管理员权限）。

## 3. 功能列表

### 3.1 首页与头部 (Hero Section)
*   **恋爱计时器**：
    *   显示文案：“两个臭宝在一起多少天了？”
    *   实时计算距离 **2022年5月23日** (UTC+8) 的天数。
    *   特殊样式高亮显示“1314”及其他整百/整年纪念日。
*   **视觉氛围**：温馨、浪漫的背景（纯色或微动效）。

### 3.2 智能时间轴 (Timeline)
*   **倒序流**：从“今天”开始向“过去”无限滚动。
*   **时间节点**：
    *   每个内容卡片显示具体日期（如 2024年10月1日）。
    *   自动计算并显示该日期是“在一起的第 N 天”。
    *   如果同一天有多个内容，按提交的顺序显示。
*   **快速导航**：
    *   提供侧边或悬浮导航栏，允许用户按“年-月”快速跳转至对应的时间锚点。
    *   支持“回到顶部”。

### 3.3 内容展示 (Smart Canvas Card)
*   **通用智能画布 (核心)**：
    *   时间轴上的每个节点本质上是一个**固定宽高**（或固定宽高比）的容器。
    *   容器内部渲染由 AI 生成的 **HTML/CSS 代码**。
    *   **展现形式**：不局限于固定的九宫格或纯文本，AI 根据素材内容决定布局。
        *   *例子1*：上传了视频和文字 -> AI 生成一个以视频为背景，文字带有玻璃拟态效果浮在上面的卡片。
        *   *例子2*：上传了9张图 -> AI 生成一个动态轮播图或特殊的拼贴画。
        *   *例子3*：上传了 PDF 情书 -> AI 提取文字，生成一个信纸风格的滚动视图。
        *   *例子4*：只有一句话 -> AI 生成一张极简的排版海报，或者生成一张符合意境的 AI 绘画作为背景。

### 3.4 创作者中心 (Admin/Submission)
*   **访问控制**：隐蔽入口或浮动按钮，需输入特定密码验证。
*   **统一提交接口**：
    *   **日期选择**：默认今天，可补录。
    *   **通用素材池**：
        *   **文字输入**：直接输入心情或故事。
        *   **文件上传**：支持图片（JPG/PNG）、视频（MP4）、文档（PDF）。
            *   *PDF 处理*：前端需解析 PDF 提取其中的纯文本作为素材投喂给 AI。
    *   **AI 提示词 (Prompt)**：用户可以（可选）告诉 AI：“把这个做成杂志风格”或“复古风格”。
*   **处理流程**：
    *   提交后，前端将素材（文本 + 图片链接/Base64）发送给 Gemini。
    *   Gemini 返回一段可以在 `div` 中渲染的 HTML 字符串。
    *   前端保存该 HTML 字符串用于展示。

## 4. 非功能需求
*   **安全性 (Sandboxing)**：AI 生成的 HTML 需在受控环境（如 iframe 或 Shadow DOM，或经过 Sanitization）中渲染，防止 XSS 攻击（虽然内容来源是可信的，但仍需防范模型幻觉生成的恶意代码）。
*   **响应式设计**：智能画布容器需适应移动端宽度，内部 HTML 需基于容器宽度自适应（百分比布局）。
*   **性能**：生成的 HTML 可能包含内联 Base64 图片，需注意存储大小，必要时图片应上传至云存储并使用 URL 引用。
